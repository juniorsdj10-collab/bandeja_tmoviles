var isChromium=window.chrome,winNav=window.navigator,vendorName=winNav.vendor,isOpera=winNav.userAgent.indexOf("OPR")>-1,isIEedge=winNav.userAgent.indexOf("Edge")>-1,isIOSChrome=winNav.userAgent.match("CriOS");var esChrome=0;if(isIOSChrome){esChrome=1}else if(isChromium!==null&&isChromium!==undefined&&vendorName==="Google Inc."&&isOpera==!1&&isIEedge==!1){esChrome=1}else{}
function diaSemana(control_dia,control_a,control_m,control_d)
{var d=new Date(control_a.value,control_m.value-1,control_d.value,0,0,0,0);var diaSem=new Array(7);diaSem[0]="Dom";diaSem[1]="Lun";diaSem[2]="Mar";diaSem[3]="Mié";diaSem[4]="Jue";diaSem[5]="Vie";diaSem[6]="Sáb";control_dia.value=diaSem[d.getDay()]}
function dias_mes(anio,mes)
{return new Date(anio,mes,0).getDate()}
 function abrir (div, url, parametros, evt)
    {
        var par= parametros; if (par== '')
        par='?_=' + new Date().getTime();else par=par + '&_=' + new Date().getTime();       
        //$('#' + div).html('<center><img src="/portalred/images/cargandoo.gif" height="100px" weight="100px" alt="Cargando..."><h3><strong>Procesando Datos. Espere...</strong></h3></center>');

        $.ajax({type: "GET",url: url,data: par,timeout: 900000, beforeSend: function () {
             $('#' + div).html('<div class="row justify-content-md-center"><div class="col-4">  <button class="btn btn-primary" type="button" disabled><span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true"></span>Procesando Datos...</button></div></div>');
            },  success: function(data) 
            {// data is ur summary
                $('#' + div).html(data);
            },   
            error: function(jqXHR, exception, err) {
        if (jqXHR.status == 404) {    
            $( '#' + div).html('<CENTER><STRONG><H1><i class="fas fa-remove text-danger"></i></H1><H3><br> The requested page not found. [404].<H3></STRONG></H3></CENTER>');
            return ('The requested page not found. [404]');
        } else if (jqXHR.status == 500) {      
            $( '#' + div).html('<CENTER><STRONG><H1><i class="icons fas fa-remove text-danger"></i></H1><H3><br> Internal Server Error [500].<H3></STRONG></H3></CENTER>');
            return ('Internal Server Error [500].');
        } else if (exception === 'parsererror') { 
            $( '#' + div).html('<CENTER><STRONG><H1><i class="fas fa-remove text-danger"></i></H1><H3><br> Requested JSON parse failed.<H3></STRONG></H3></CENTER>');
                 return ('Requested JSON parse failed.');
                   } else if (exception === 'timeout') {    

                    $( '#' + div).html('<CENTER><STRONG><H1><i class="fas fa-remove text-danger"></i></H1><H3><br> Time out error.<H3></STRONG></H3></CENTER>');
            return ('<CENTER><H4><STRONG>Time out error.</STRONG></H4></CENTER>');
        } else if (exception === 'abort') {  $( '#' + div).html('<CENTER><STRONG><H1><i class="fas fa-remove text-danger"></i></H1><H3><br> Ajax request aborted.<H3></STRONG></H3></CENTER>');
            return ('Ajax request aborted.');
        } else {
            $( '#' + div).html('<CENTER><STRONG><H1><i class="fas fa-remove text-danger"></i></H1><H3><br> Uncaught Error.\n' + jqXHR.responseText + '<H3></STRONG></H3></CENTER>');
            return ('Uncaught Error.\n' + jqXHR.responseText);
        }},     cache: false    });
        $('#' + div).show();if (evt){var e = e || evt || window.event;$('#' + div).css({'top':e.pageY - 60,'left':e.pageX + 40, 'position':'absolute'});$('#' + div).show();    }   }
/*function abrir(div,url,parametros,evt)
{var par=parametros;if(par=='')
par='?_='+new Date().getTime();else par=par+'&_='+new Date().getTime();$('#'+div).html('<center><img src="/noc/img/loading_2.gif" height="20px" weight="180px" alt="Cargando..."></center>');$.ajax({type:"GET",url:url,data:par,success:function(data)
{$('#'+div).html(data)},cache:!1});$('#'+div).show();if(evt)
{var e=e||evt||window.event;$('#'+div).css({'top':e.pageY-60,'left':e.pageX+40,'position':'absolute'});$('#'+div).show()}}*/
function cerrar(div)
{$('#'+div).hide()}
function limpiar(div)
{$('#'+div).empty();$('#act').empty()}
function MergeCommonRows(table)
{var firstColumnBrakes=[];for(var i=1;i<=table.find('th').length;i++)
{var previous=null,cellToExtend=null,rowspan=1;table.find("td:nth-child("+i+")").each(function(index,e)
{var jthis=$(this),content=jthis.text();if(previous==content&&content!==""&&$.inArray(index,firstColumnBrakes)===-1)
{jthis.addClass('hidden');cellToExtend.attr("rowspan",(rowspan=rowspan+1))}
else{if(i===1)firstColumnBrakes.push(index);rowspan=1;previous=content;cellToExtend=jthis}})}
$('td.hidden').remove()}(function($){$(document).ready(function(){$('ul.dropdown-menu [data-toggle=dropdown]').on('click',function(event){event.preventDefault();event.stopPropagation();$(this).parent().siblings().removeClass('open');$(this).parent().toggleClass('open')})})})(jQuery)